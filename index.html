<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our First Month ‚ú®</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&family=Poppins:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #120912 50%, #1a0a1a 100%);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Enhanced Background Effects */
        .sparkles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .sparkle {
            position: absolute;
            border-radius: 50%;
            animation: sparkle 4s infinite ease-in-out;
        }
        
        .sparkle:nth-child(odd) {
            width: 3px;
            height: 3px;
            background: linear-gradient(45deg, #ff69b4, #ff1493);
            box-shadow: 0 0 10px rgba(255, 105, 180, 0.8);
        }
        
        .sparkle:nth-child(even) {
            width: 5px;
            height: 5px;
            background: linear-gradient(45deg, #da70d6, #ff69b4);
            box-shadow: 0 0 15px rgba(218, 112, 214, 0.8);
        }
        
        @keyframes sparkle {
            0%, 100% { 
                opacity: 0; 
                transform: scale(0) rotate(0deg);
            }
            25% { 
                opacity: 0.7; 
                transform: scale(0.5) rotate(90deg);
            }
            50% { 
                opacity: 1; 
                transform: scale(1) rotate(180deg);
            }
            75% { 
                opacity: 0.8; 
                transform: scale(0.8) rotate(270deg);
            }
        }
        
        /* Fixed Container with proper centering */
        .container {
            position: relative;
            z-index: 2;
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        /* Enhanced Page Transitions */
        .page {
            display: none;
            text-align: center;
            animation: fadeInUp 1s ease-out;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .page.active {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .page.fade-out {
            animation: fadeOutDown 0.8s ease-in;
        }
        
        @keyframes fadeInUp {
            from { 
                opacity: 0; 
                transform: translateY(50px) scale(0.9);
            }
            to { 
                opacity: 1; 
                transform: translateY(0) scale(1);
            }
        }
        
        @keyframes fadeOutDown {
            from { 
                opacity: 1; 
                transform: translateY(0) scale(1);
            }
            to { 
                opacity: 0; 
                transform: translateY(-30px) scale(0.95);
            }
        }
        
        /* Enhanced Typography with better alignment */
        h1 {
            font-family: 'Dancing Script', cursive;
            font-size: clamp(2.5rem, 5vw, 4rem);
            background: linear-gradient(45deg, #ff69b4, #ff1493, #da70d6, #ff69b4, #ff1493);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradient 4s ease infinite;
            margin-bottom: 30px;
            text-shadow: 0 0 30px rgba(255, 105, 180, 0.5);
            filter: drop-shadow(0 0 20px rgba(255, 105, 180, 0.3));
            text-align: center;
            width: 100%;
        }
        
        @keyframes gradient {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        /* Enhanced Love Letter with proper text alignment */
        .love-letter {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 105, 180, 0.3);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            backdrop-filter: blur(20px);
            box-shadow: 0 8px 16px rgba(255, 105, 180, 0.1);
            font-size: clamp(1rem, 2vw, 1.2rem);
            line-height: 1.8;
            max-width: 700px;
            width: 100%;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            text-align: left;
        }
        
        .love-letter::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #ff69b4, #da70d6, #ff1493, #ff69b4);
            background-size: 400% 400%;
            animation: borderGlow 3s ease infinite;
            z-index: -1;
            border-radius: 22px;
        }
        
        @keyframes borderGlow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .love-letter:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(255, 105, 180, 0.3);
        }
        
        /* Enhanced Game Prompt with better alignment */
        .game-prompt {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 105, 180, 0.3);
            border-radius: 25px;
            padding: 50px;
            margin: 40px 0;
            backdrop-filter: blur(25px);
            box-shadow: 0 8px 16px rgba(255, 105, 180, 0.1);
            max-width: 600px;
            width: 100%;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        
        .game-prompt::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s ease;
        }
        
        .game-prompt:hover::before {
            left: 100%;
        }
        
        .game-prompt:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 60px rgba(255, 105, 180, 0.4);
        }
        
        .prompt-title {
            font-size: clamp(1.4rem, 3vw, 2rem);
            color: #ff69b4;
            margin-bottom: 20px;
            font-weight: 700;
            text-shadow: 0 0 15px rgba(255, 105, 180, 0.5);
            text-align: center;
            width: 100%;
        }
        
        .hint {
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            color: #da70d6;
            margin-bottom: 30px;
            font-style: italic;
            opacity: 0.9;
            text-align: center;
            width: 100%;
        }
        
        /* Enhanced Input with proper alignment */
        .password-input {
            width: 100%;
            max-width: 400px;
            padding: 20px;
            font-size: clamp(1rem, 2.5vw, 1.3rem);
            border: 2px solid rgba(255, 105, 180, 0.4);
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.03);
            color: #fff;
            text-align: center;
            margin-bottom: 25px;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
        }
        
        .password-input:focus {
            outline: none;
            border-color: #ff69b4;
            box-shadow: 0 0 25px rgba(255, 105, 180, 0.5);
            transform: translateY(-2px);
        }
        
        .password-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }
        
        /* Enhanced Buttons with proper alignment */
        .btn {
            background: linear-gradient(135deg, #ff69b4 0%, #ff1493 50%, #da70d6 100%);
            border: none;
            padding: 18px 35px;
            font-size: clamp(1rem, 2vw, 1.2rem);
            color: white;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            box-shadow: 0 10px 30px rgba(255, 105, 180, 0.4);
            margin: 15px 0;
            position: relative;
            overflow: hidden;
            filter: brightness(0.9);
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            transition: all 0.3s ease;
            transform: translate(-50%, -50%);
        }
        
        .btn:hover::before {
            width: 300px;
            height: 300px;
        }
        
        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 45px rgba(255, 105, 180, 0.5);
        }
        
        .btn:active {
            transform: translateY(-2px);
        }
        
        /* Enhanced Messages with proper alignment */
        .unlock-message {
            font-size: clamp(1.1rem, 2.5vw, 1.4rem);
            color: #ff69b4;
            margin: 30px 0;
            font-style: italic;
            text-shadow: 0 0 20px rgba(255, 105, 180, 0.6);
            animation: glow 2s ease-in-out infinite alternate;
            text-align: center;
            width: 100%;
        }
        
        @keyframes glow {
            from { text-shadow: 0 0 20px rgba(255, 105, 180, 0.6); }
            to { text-shadow: 0 0 30px rgba(255, 105, 180, 0.9); }
        }
        
        .error-message {
            color: #ff6b6b;
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            margin-top: 15px;
            display: none;
            animation: shake 0.5s ease-in-out;
            text-align: center;
            width: 100%;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        /* Enhanced Hearts */
        .heart {
            font-size: clamp(1.5rem, 3vw, 2.5rem);
            color: #ff69b4;
            animation: heartbeat 2s infinite;
            margin: 0 10px;
            filter: drop-shadow(0 0 10px rgba(255, 105, 180, 0.8));
            display: inline-block;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.1); }
            50% { transform: scale(1.2); }
            75% { transform: scale(1.1); }
        }
        
        /* Enhanced Floating Hearts */
        .floating-hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .floating-heart {
            position: absolute;
            color: #ff69b4;
            font-size: clamp(16px, 3vw, 24px);
            animation: float-up 5s infinite linear;
            opacity: 0;
            filter: drop-shadow(0 0 5px rgba(255, 105, 180, 0.8));
        }
        
        @keyframes float-up {
            0% { 
                opacity: 0;
                transform: translateY(100vh) rotate(0deg) scale(0.5);
            }
            10% { 
                opacity: 1;
                transform: translateY(90vh) rotate(36deg) scale(1);
            }
            90% { 
                opacity: 1;
                transform: translateY(10vh) rotate(324deg) scale(1);
            }
            100% { 
                opacity: 0;
                transform: translateY(-10vh) rotate(360deg) scale(0.5);
            }
        }
        
        /* Enhanced Download Button with proper alignment */
        .download-btn {
            background: linear-gradient(135deg, #da70d6 0%, #ff69b4 50%, #ff1493 100%);
            padding: 25px 50px;
            font-size: clamp(1.1rem, 2.5vw, 1.4rem);
            border-radius: 35px;
            margin-top: 40px;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 15px 40px rgba(218, 112, 214, 0.4);
            position: relative;
            overflow: hidden;
            color: white;
            border: none;
            cursor: pointer;
            filter: brightness(0.9);
        }
        
        .download-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            transition: all 0.4s ease;
            transform: translate(-50%, -50%);
        }
        
        .download-btn:hover::before {
            width: 400px;
            height: 400px;
        }
        
        .download-btn:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 60px rgba(218, 112, 214, 0.6);
        }
        
        /* Enhanced Final Message with proper alignment */
        .final-message {
            font-size: clamp(1.2rem, 3vw, 1.6rem);
            line-height: 1.8;
            margin: 40px 0;
            text-align: center;
            background: linear-gradient(45deg, #ff69b4, #da70d6, #ff1493, #ff69b4);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradient 3s ease infinite;
            filter: drop-shadow(0 0 10px rgba(255, 105, 180, 0.5));
            width: 100%;
        }
        
        /* Enhanced Progress Bar with proper alignment */
        .progress-bar {
            width: 100%;
            max-width: 600px;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            margin: 30px 0;
            overflow: hidden;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.3);
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff69b4 0%, #da70d6 50%, #ff1493 100%);
            border-radius: 10px;
            transition: width 1s ease;
            box-shadow: 0 0 20px rgba(255, 105, 180, 0.8);
            position: relative;
            overflow: hidden;
        }
        
        .progress-fill::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: progressShine 2s infinite;
        }
        
        @keyframes progressShine {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        /* Final Page Special Animation */
        #final .love-letter {
            opacity: 0;
            transform: translateY(50px);
            animation: fadeInLetter 4s ease-in-out forwards;
            animation-delay: 2s;
        }
        
        @keyframes fadeInLetter {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Success Animation */
        .success-animation {
            animation: successPulse 1s ease-in-out;
        }
        
        @keyframes successPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        /* Mobile Responsiveness with better alignment */
        @media (max-width: 768px) {
            .container {
                padding: 20px 15px;
            }
            
            .love-letter {
                padding: 30px 25px;
                margin: 20px 0;
            }
            
            .game-prompt {
                padding: 35px 25px;
                margin: 30px 0;
            }
            
            .password-input {
                padding: 15px;
                max-width: 100%;
            }
            
            .btn {
                padding: 15px 30px;
                margin: 10px 0;
            }
            
            .download-btn {
                padding: 20px 40px;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 15px 10px;
            }
            
            .love-letter {
                padding: 25px 20px;
            }
            
            .game-prompt {
                padding: 30px 20px;
            }
            
            .password-input {
                padding: 12px;
            }
            
            .btn {
                padding: 12px 25px;
                font-size: 1rem;
            }
        }
        
        /* Accessibility */
        .btn:focus,
        .password-input:focus,
        .download-btn:focus {
            outline: 3px solid rgba(255, 105, 180, 0.6);
            outline-offset: 2px;
        }
        
        /* Reduced Motion */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

    </style>
</head>
<body>
    <div class="sparkles"></div>
    <div class="floating-hearts"></div>
    
    <div class="container">
        <!-- Homepage -->
        <div class="page active" id="homepage">
            <h1>Our First Month ‚ú®</h1>
            <div class="love-letter">
                <p>My dearest love,</p>
                <br>
                <p>One month ago, you said "hi" and changed everything. In these 30 days, you've become my favorite hello and my hardest goodbye. You've made me laugh until my stomach hurt, smile until my cheeks ached, and fall so deeply in love that I forgot what life was like before you.</p>
                <br>
                <p>Every day with you feels like a new adventure, every conversation a treasure, every moment a gift I want to unwrap slowly and savor forever.</p>
                <br>
                <p>So here's a little game, just for you, just for us. Answer the questions, unlock the memories, and discover just how much you mean to me.</p>
                <br>
                <p>Ready to play? <span class="heart">üíï</span></p>
            </div>
            <button class="btn" onclick="startGame()">Start Our Game üéÆ</button>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 0%"></div>
            </div>
        </div>
        <!-- Page 1: When did we meet -->
        <div class="page" id="page1">
            <h1>Chapter 1: When It All Began</h1>
            <div class="game-prompt">
                <div class="prompt-title">When did we meet?</div>
                <div class="hint">The day our story started üíû</div>
                <input type="text" class="password-input" id="password1" placeholder="Enter the date..." autocomplete="off">
                <button class="btn" onclick="checkPassword(1, ['14/06', '14 of july'])">Unlock Memory üíñ</button>
                <div class="error-message" id="error1">It's that special day... think love at first hi! üóìÔ∏è</div>
            </div>
            <div class="progress-bar"><div class="progress-fill" style="width: 20%"></div></div>
        </div>

       <!-- Page 2: Nickname -->
        <div class="page" id="page2">
            <h1>Chapter 2: Sweet Words</h1>
            <div class="unlock-message"><p>Even the word ‚Äòdarling‚Äô sounds warmer when it's you saying it. üíó</p></div>
            <div class="game-prompt">
                <div class="prompt-title">What‚Äôs something you always call me?</div>
                <div class="hint">It makes my heart go boom üí•</div>
                <input type="text" class="password-input" id="password2" placeholder="Your go-to word for me..." autocomplete="off">
                <button class="btn" onclick="checkPassword(2, ['darling', 'baby'])">Unlock Memory üíñ</button>
                <div class="error-message" id="error2">You say it almost every day‚Ä¶ ü•π</div>
            </div>
            <div class="progress-bar"><div class="progress-fill" style="width: 40%"></div></div>
        </div>

        
<!-- Page 3: First Movie -->
        <div class="page" id="page3">
            <h1>Chapter 3: Our First Movie</h1>
            <div class="unlock-message"><p>That movie hit different when I watched it with you. üé¨üíû</p></div>
            <div class="game-prompt">
                <div class="prompt-title">First movie we completed together?</div>
                <div class="hint">Tears. Love. Hospital. üíî</div>
                <input type="text" class="password-input" id="password3" placeholder="Movie name..." autocomplete="off">
                <button class="btn" onclick="checkPassword(3, ['five feet apart'])">Unlock Memory üíñ</button>
                <div class="error-message" id="error3">It had you, me, and a whole lotta feels üò≠</div>
            </div>
            <div class="progress-bar"><div class="progress-fill" style="width: 60%"></div></div>
        </div>

        
        <!-- Page 4: PFP Match -->
        <div class="page" id="page4">
            <h1>Chapter 4: That Cute Match</h1>
            <div class="unlock-message"><p>Our icons were matching. Our souls already were. üñºÔ∏èüíû</p></div>
            <div class="game-prompt">
                <div class="prompt-title">Where did we first match PFP?</div>
                <div class="hint">We found the perfect pair there! üå∏</div>
                <input type="text" class="password-input" id="password4" placeholder="App name..." autocomplete="off">
                <button class="btn" onclick="checkPassword(4, ['pinterest'])">Unlock Memory üíñ</button>
                <div class="error-message" id="error4">It starts with a ‚ÄúP‚Äù and ends with endless cute ideas üåà</div>
            </div>
            <div class="progress-bar"><div class="progress-fill" style="width: 80%"></div></div>
        </div>

        
        <!-- Page 5: Everything -->
        <div class="page" id="page5">
            <h1>Chapter 5: The Truth</h1>
            <div class="unlock-message">
                <p>Wherever you are‚Ä¶ that's home. üè†üíï</p>
            </div>
            <div class="game-prompt">
                <div class="prompt-title">What do I love most about you?</div>
                <div class="hint">It's in the way you breathe, smile, exist.</div>
                <input type="text" class="password-input" id="password5" placeholder="What do I love?" autocomplete="off">
                <button class="btn" onclick="checkPassword(5, 'everything')">Unlock Final Memory üíñ</button>
                <div class="error-message" id="error5">It's not just one thing... it's all of it. üåü</div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 100%"></div>
            </div>
        </div>
        
        <!-- Final Page -->
        <div class="page" id="final">
            <h1>Our Story Unlocked üíï</h1>
            <div class="final-message">
                <p>You've unlocked it all, just like you did with me.</p>
                <p>Here's a piece of my heart for you to keep forever.</p>
                <span class="heart">üíñ</span>
            </div>
            <div class="love-letter">
                <p>My Beautiful Girlfriend,</p>
                <br>
                <p>In just one month, you've become my everything.just everything... You're mi casa, my home, my safe space in this chaotic world.</p>
                <br>
                <p>I love everything about you , your laugh that makes my heart skip, your smile that lights up my darkest days, your weird  talks that make me question your sanity but love you even more.</p>
                <br>
                <p>You wrote yourself into my story, and now I can't imagine any chapter without you.</p>
                <br>
                <p>Here's to our first month, and to all the months, years, and adventures ahead.</p>
                <br>
                <p>Forever yours,<br>Your Loving Boyfriend üíï</p>
            </div>
            <button class="download-btn" onclick="downloadNovel()">üìñ Download Our Story</button>
        </div>
    </div>
    
    <script>
        let currentPage = 0;
        const pages = ['homepage', 'page1', 'page2', 'page3', 'page4', 'page5', 'final'];
        
        // Enhanced sparkles creation
        function createSparkles() {
            const sparkleContainer = document.querySelector('.sparkles');
            for (let i = 0; i < 80; i++) {
                const sparkle = document.createElement('div');
                sparkle.classList.add('sparkle');
                sparkle.style.left = Math.random() * 100 + '%';
                sparkle.style.top = Math.random() * 100 + '%';
                sparkle.style.animationDelay = Math.random() * 4 + 's';
                sparkle.style.animationDuration = (Math.random() * 2 + 3) + 's';
                sparkleContainer.appendChild(sparkle);
            }
        }
        
        // Enhanced floating hearts
        function createFloatingHearts() {
            const heartContainer = document.querySelector('.floating-hearts');
            const heartEmojis = ['üíï', 'üíñ', 'üíù', 'üíó', 'üíì', 'üíû', 'üíò'];
            
            function createHeart() {
                const heart = document.createElement('div');
                heart.classList.add('floating-heart');
                heart.innerHTML = heartEmojis[Math.floor(Math.random() * heartEmojis.length)];
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDelay = Math.random() * 2 + 's';
                heart.style.animationDuration = (Math.random() * 2 + 4) + 's';
                heartContainer.appendChild(heart);
                
                setTimeout(() => {
                    if (heart.parentNode) {
                        heart.remove();
                    }
                }, 6000);
            }
            
            // Create hearts at intervals
            setInterval(createHeart, 1500);
            // Initial hearts
            for (let i = 0; i < 5; i++) {
                setTimeout(createHeart, i * 300);
            }
        }
        
        // Enhanced page transitions
        function showPage(pageNum) {
            const currentPageEl = document.querySelector('.page.active');
            
            if (currentPageEl) {
                currentPageEl.classList.add('fade-out');
                setTimeout(() => {
                    currentPageEl.classList.remove('active', 'fade-out');
                }, 800);
            }
            
            setTimeout(() => {
                let targetPage;
                if (pageNum === 0) {
                    targetPage = document.getElementById('homepage');
                } else if (pageNum <= 5) {
                    targetPage = document.getElementById('page' + pageNum);
                } else {
                    targetPage = document.getElementById('final');
                }
                
                targetPage.classList.add('active');
                currentPage = pageNum;
                
                // Trigger celebration effects on final page
                if (pageNum === 6) {
                    setTimeout(() => {
                        createCelebrationBurst();
                    }, 1000);
                }
            }, pageNum === 0 ? 0 : 900);
        }
        
        function startGame() {
            showPage(1);
            updateProgressBar(20);
        }
        
        // Enhanced password checking with better feedback
// Enhanced password checking with multiple accepted answers
        function checkPassword(pageNum, correctPassword) {
            const input = document.getElementById('password' + pageNum);
            const errorMsg = document.getElementById('error' + pageNum);
            const gamePrompt = input.closest('.game-prompt');
            const userInput = input.value.toLowerCase().trim();

            // Clear previous error states
            errorMsg.style.display = 'none';
            input.style.borderColor = 'rgba(255, 105, 180, 0.6)';

            const isCorrect = Array.isArray(correctPassword)
                ? correctPassword.some(answer => userInput === answer.toLowerCase())
                : userInput === correctPassword;

            if (isCorrect) {
                // Correct password - success animation
                input.style.borderColor = '#4CAF50';
                gamePrompt.classList.add('success-animation');

                // Create success particle burst
                createSuccessParticles(gamePrompt);

                // Visual feedback
                input.style.boxShadow = '0 0 30px rgba(76, 175, 80, 0.8)';

                setTimeout(() => {
                    const nextPage = pageNum < 5 ? pageNum + 1 : 6;
                    showPage(nextPage);
                    updateProgressBar(nextPage === 6 ? 100 : (nextPage / 5) * 100);
                }, 1500);
            } else {
                // Wrong password - error animation
                input.style.borderColor = '#ff6b6b';
                errorMsg.style.display = 'block';
                errorMsg.classList.add('shake');

                // Mobile vibration feedback
                if (navigator.vibrate) {
                    navigator.vibrate([100, 50, 100]);
                }

                setTimeout(() => {
                    input.style.borderColor = 'rgba(255, 105, 180, 0.6)';
                    errorMsg.classList.remove('shake');
                }, 2000);
            }
        }

        
        // Create success particle burst
        function createSuccessParticles(element) {
            const rect = element.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            
            for (let i = 0; i < 15; i++) {
                const particle = document.createElement('div');
                particle.style.position = 'fixed';
                particle.style.left = centerX + 'px';
                particle.style.top = centerY + 'px';
                particle.style.width = '6px';
                particle.style.height = '6px';
                particle.style.backgroundColor = '#4CAF50';
                particle.style.borderRadius = '50%';
                particle.style.pointerEvents = 'none';
                particle.style.zIndex = '1000';
                particle.style.boxShadow = '0 0 10px rgba(76, 175, 80, 0.8)';
                
                const angle = (i / 15) * Math.PI * 2;
                const velocity = 100 + Math.random() * 50;
                const vx = Math.cos(angle) * velocity;
                const vy = Math.sin(angle) * velocity;
                
                document.body.appendChild(particle);
                
                particle.animate([
                    { transform: 'translate(0, 0) scale(1)', opacity: 1 },
                    { transform: `translate(${vx}px, ${vy}px) scale(0)`, opacity: 0 }
                ], {
                    duration: 1000,
                    easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                }).onfinish = () => particle.remove();
            }
        }
        
        // Create celebration burst for final page
        function createCelebrationBurst() {
            const colors = ['#ff69b4', '#da70d6', '#ff1493', '#4CAF50', '#FFD700'];
            const container = document.querySelector('.container');
            const rect = container.getBoundingClientRect();
            
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.style.position = 'fixed';
                particle.style.left = rect.left + rect.width / 2 + 'px';
                particle.style.top = rect.top + rect.height / 2 + 'px';
                particle.style.width = (Math.random() * 8 + 4) + 'px';
                particle.style.height = particle.style.width;
                particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                particle.style.borderRadius = '50%';
                particle.style.pointerEvents = 'none';
                particle.style.zIndex = '1000';
                
                const angle = Math.random() * Math.PI * 2;
                const velocity = 150 + Math.random() * 100;
                const vx = Math.cos(angle) * velocity;
                const vy = Math.sin(angle) * velocity;
                
                document.body.appendChild(particle);
                
                particle.animate([
                    { transform: 'translate(0, 0) scale(1) rotate(0deg)', opacity: 1 },
                    { transform: `translate(${vx}px, ${vy}px) scale(0) rotate(720deg)`, opacity: 0 }
                ], {
                    duration: 2000,
                    easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                }).onfinish = () => particle.remove();
            }
        }
        
        // Update progress bar with animation
        function updateProgressBar(percentage) {
            const progressFill = document.querySelector('.progress-fill');
            if (progressFill) {
                progressFill.style.width = percentage + '%';
            }
        }
        
        // Enhanced download function
        function downloadNovel() {
            const link = document.createElement('a');
            link.href = 'public/moon.pdf'; // relative path to the PDF file
            link.download = 'Our_Love_Story.pdf'; // download name
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);

            // Optional: change button text temporarily to show success
            const btn = event.target;
            const originalText = btn.textContent;
            btn.textContent = '‚úÖ Downloaded!';
            btn.style.background = 'linear-gradient(135deg, #4CAF50, #45a049)';
            
            setTimeout(() => {
                btn.textContent = originalText;
                btn.style.background = 'linear-gradient(135deg, #da70d6 0%, #ff69b4 50%, #ff1493 100%)';
            }, 2000);
        }

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                const activeInput = document.querySelector('.page.active .password-input');
                if (activeInput) {
                    const pageNum = parseInt(activeInput.id.replace('password', ''));
                    const passwords = [
                        '',
                        ['14/06', '14 of july'],       // Page 1
                        ['darling', 'baby'],           // Page 2
                        ['five feet apart'],           // Page 3
                        ['pinterest'],                 // Page 4
                        ['everything']                 // Page 5
                    ];
                    checkPassword(pageNum, passwords[pageNum]);
                }
            }
        });

        
        // Auto-focus on input when page loads
        function focusActiveInput() {
            setTimeout(() => {
                const activeInput = document.querySelector('.page.active .password-input');
                if (activeInput) {
                    activeInput.focus();
                }
            }, 100);
        }
        
        // Enhanced input interactions
        document.addEventListener('DOMContentLoaded', function() {
            // Add input listeners for better UX
            document.querySelectorAll('.password-input').forEach(input => {
                input.addEventListener('input', function() {
                    this.style.borderColor = 'rgba(255, 105, 180, 0.6)';
                    const errorMsg = document.getElementById('error' + this.id.replace('password', ''));
                    if (errorMsg) {
                        errorMsg.style.display = 'none';
                    }
                });
                
                input.addEventListener('focus', function() {
                    this.style.transform = 'translateY(-2px)';
                });
                
                input.addEventListener('blur', function() {
                    this.style.transform = 'translateY(0)';
                });
            });
            
            // Add touch feedback for mobile
            document.querySelectorAll('.btn, .download-btn').forEach(btn => {
                btn.addEventListener('touchstart', function() {
                    this.style.transform = 'translateY(-2px) scale(0.98)';
                });
                
                btn.addEventListener('touchend', function() {
                    this.style.transform = 'translateY(-5px) scale(1)';
                });
            });
        });
        
        // Initialize everything
        function init() {
            createSparkles();
            createFloatingHearts();
            focusActiveInput();
            
            // Add page change listener
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
                        const target = mutation.target;
                        if (target.classList.contains('page') && target.classList.contains('active')) {
                            focusActiveInput();
                        }
                    }
                });
            });
            
            document.querySelectorAll('.page').forEach(page => {
                observer.observe(page, { attributes: true });
            });
        }
        
        // Start everything when page loads
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
        
        // Add some performance optimizations
        let ticking = false;
        function updateAnimations() {
            // Throttle animations for better performance
            if (!ticking) {
                requestAnimationFrame(function() {
                    ticking = false;
                });
                ticking = true;
            }
        }
        
        // Preload next page content for smoother transitions
        function preloadNextPage(currentPageNum) {
            const nextPageNum = currentPageNum + 1;
            if (nextPageNum <= 5) {
                const nextPage = document.getElementById('page' + nextPageNum);
                if (nextPage) {
                    nextPage.style.display = 'block';
                    nextPage.style.opacity = '0';
                    setTimeout(() => {
                        nextPage.style.display = 'none';
                        nextPage.style.opacity = '1';
                    }, 100);
                }
            }
        }
    </script>
</body>
</html>